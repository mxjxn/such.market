# Such.Market Environment Variables
# Copy this file to .env.local and fill in your values

# =============================================================================
# REQUIRED - Application will not work without these
# =============================================================================

# Public URL of your application (no trailing slash)
# Development: http://localhost:3000
# Production: https://your-domain.com
NEXT_PUBLIC_URL=http://localhost:3000

# Supabase Configuration
# Get these from: https://supabase.com/dashboard/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Upstash Redis Configuration
# IMPORTANT: Must use these exact variable names (KV_REST_API_URL and KV_REST_API_TOKEN)
# Get these from: https://console.upstash.com/
KV_REST_API_URL=your_redis_url
KV_REST_API_TOKEN=your_redis_token

# Alchemy API Key (for blockchain data)
# Get from: https://dashboard.alchemy.com/
ALCHEMY_API_KEY=your_alchemy_api_key

# Neynar API Key (for Farcaster integration)
# Get from: https://neynar.com/
NEXT_PUBLIC_NEYNAR_API_KEY=your_neynar_api_key

# =============================================================================
# HIGHLY RECOMMENDED - For production use
# =============================================================================

# Base Mainnet RPC URL
# CRITICAL: Do not use public endpoints in production (rate limiting issues)
# Options:
# - Alchemy: https://base-mainnet.g.alchemy.com/v2/YOUR_API_KEY
# - Infura: https://base-mainnet.infura.io/v3/YOUR_API_KEY
# - QuickNode: Your QuickNode endpoint
# If not set, will fallback to https://mainnet.base.org (public, rate-limited)
BASE_MAINNET_RPC=https://base-mainnet.g.alchemy.com/v2/YOUR_API_KEY

# NextAuth Configuration
# Generate a secret: openssl rand -base64 32
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your_nextauth_secret_here

# =============================================================================
# OPTIONAL - Farcaster Frame Configuration
# =============================================================================

# Frame Metadata (optional)
# If you have pre-signed frame metadata, add it here as JSON
# FRAME_METADATA={"version":"1","name":"Such.Market",...}

# Frame Display Configuration
NEXT_PUBLIC_FRAME_NAME=such-market
NEXT_PUBLIC_FRAME_DESCRIPTION=Browse and trade NFTs on Base
NEXT_PUBLIC_FRAME_PRIMARY_CATEGORY=marketplace
NEXT_PUBLIC_FRAME_TAGS=nft,marketplace,base,seaport
NEXT_PUBLIC_FRAME_BUTTON_TEXT=Browse NFTs

# Neynar Client ID (optional - for webhooks)
# If set, webhooks will use Neynar's endpoint
NEYNAR_CLIENT_ID=your_neynar_client_id

# =============================================================================
# OPTIONAL - LSSVM Liquidity Pool Integration
# =============================================================================

# LSSVM Subgraph URL (for liquidity pool data)
# This enables instant buy/sell via liquidity pools
# If not set, trading will use Seaport listings/offers only
LSSVM_SUBGRAPH_URL=https://api.thegraph.com/subgraphs/name/your-org/such-lssvm-base
NEXT_PUBLIC_LSSVM_SUBGRAPH_URL=https://api.thegraph.com/subgraphs/name/your-org/such-lssvm-base

# LSSVM Contract Addresses (Base Mainnet)
# Factory and Router addresses for your LSSVM deployment
LSSVM_FACTORY_ADDRESS=0x...
LSSVM_ROUTER_ADDRESS=0x...

# =============================================================================
# DEVELOPMENT - Optional for local development
# =============================================================================

# Public Base Mainnet RPC (fallback)
# Used if BASE_MAINNET_RPC is not set
# NEXT_PUBLIC_BASE_MAINNET_RPC=https://mainnet.base.org

# Database Environment (for migrations)
# Options: development, production
SUPABASE_ENV=development

# =============================================================================
# NOTES & TROUBLESHOOTING
# =============================================================================

# Redis Variable Names
# The app uses KV_REST_API_URL and KV_REST_API_TOKEN (Vercel KV naming)
# Do NOT use UPSTASH_REDIS_REST_URL or other variants - they won't work

# RPC Endpoints
# The public Base RPC (https://mainnet.base.org) has rate limits
# For production, always use a dedicated RPC provider (Alchemy, Infura, QuickNode)

# Supabase Service Role Key
# This key has admin privileges - keep it secret!
# Never commit it to git or expose it client-side

# Environment Variable Loading
# Next.js loads .env.local automatically in development
# For production (Vercel), set these in the dashboard
# For other platforms, ensure environment variables are set before build

# Verification
# To verify your setup, check the following endpoints after starting:
# - http://localhost:3000/api/health (should return 200)
# - http://localhost:3000/.well-known/farcaster.json (Farcaster manifest)

# =============================================================================
# SECURITY CHECKLIST
# =============================================================================

# [ ] All *_SECRET and *_KEY variables are kept secret
# [ ] .env.local is in .gitignore (do not commit!)
# [ ] Production uses dedicated RPC endpoints (not public)
# [ ] NEXTAUTH_SECRET is cryptographically random
# [ ] Supabase Row Level Security (RLS) is enabled
# [ ] Rate limiting is configured on API routes

# =============================================================================
# QUICK START
# =============================================================================

# 1. Copy this file: cp .env.example .env.local
# 2. Fill in required values (marked REQUIRED above)
# 3. Get API keys from respective services
# 4. Run migrations: pnpm db:migrate
# 5. Start dev server: pnpm dev
# 6. Visit: http://localhost:3000

# For detailed setup instructions, see README.md
